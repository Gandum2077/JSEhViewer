# WebDAV 使用指南

启用 WebDAV 后，打开图库时会优先使用 WebDAV 中对应的图库。

建议配合 H@H 客户端使用，下面的规则以 H@H 客户端为基准。如果使用自定义下载器，需要遵守同样的规则。

> 关于 WebDAV 认证方式：只支持基本认证或无认证。基本认证是绝大多数 WebDAV 应用和服务采用的认证方式。

## 如何设置

点击“新增 WebDAV 地址”添加地址。你需要填写 URL、用户名、密码。

URL 需要包含协议、主机、端口、路径，比如`http://192.168.1.1:6000/hath/download`

其中，路径是存储图库的主文件夹的位置，本应用只会读取该路径下的第一级子文件夹，不会递归式地往下读取。

自动上传：对于下载到本地、且WebDAV服务器没有的图库，会自动上传到服务器。

## WebDAV 服务器目录&文件命名规则

> 如果你使用 H@H 客户端作为下载器，可以无视此章节。

### 1. 目录命名规则

所有图库文件夹必须直接放在 URL 的给定路径下，比如 URL 是`http://192.168.1.1:6000/hath/download`，则所有图库文件夹都要放在`hath/download`中，不能以嵌套的方式存储。

图库文件夹接受两种命名方式：

1. 用 GID 命名，例如`1049306`，可以带上分辨率标识，例如`1049306-780x`
2. 在名字末尾加上用方括号包裹的 GID，例如`水無月のほんとのチカラっ![1049306]`，可以带上分辨率标识。例如`水無月のほんとのチカラっ![1049306-780x]`

### 2. 文件命名规则

序号做开头，后面用`.`或`_`连接其他内容。前面可以填充任意个字符`0`。比如`2_IMG_0002.jpg`或`2.jpg`或`002.jpg`。请注意，序号必须从 1 开始。

## 如何管理 WebDAV 服务器上的图库？

使用自己喜欢的文件管理器即可。推荐[CyberDuck](https://cyberduck.io/)。
